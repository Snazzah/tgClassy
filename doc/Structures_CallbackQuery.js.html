<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Structures/CallbackQuery.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Structures/CallbackQuery.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const User = require("./User");
const Message = require("./Message");
const InlineMessage = require("./InlineMessage");

const Parser = require("../Utils/Parser");

/**
 * Options provided when answering a {@link CallbackQuery}.
 * @typedef {Object} CallbackQueryAnswerOptions
 * @property {number} [cacheTime] The maximum amount of time in seconds that the result of
 * the callback query may be cached client-side.
 * @property {string} [url] URL that will be opened by the user's client.
 */

/**
 * Represents a Callback query in Telegram.
 * @see https://core.telegram.org/bots/api#callbackquery
 */
class CallbackQuery {
	constructor(data, bot){
		/**
		 * The query's ID.
		 * @type {string}
		 */
		this.id = data.id;
		this.bot = bot;

		/**
		 * The user that called the query.
		 * @type {User}
		 */
		this.user = new User(data.from, bot);

		/**
		 * The message that the callback originated from.
		 * @type {?Message|InlineMessage}
		 */
		this.message = data.message ? new Message(data.message, bot) : (data.inline_message_id ? new InlineMessage(data.inline_message_id, bot) : null);

		/**
		 * Global identifier, uniquely corresponding to the chat to which the message with the callback button was sent.
		 * @type {string}
		 */
		this.chatInstance = data.chat_instance;

		/**
		 * Data associated with the callback button.
		 * @type {string}
		 */
		this.data = data.data;

		/**
		 * Short name of a Game to be returned.
		 * @type {string}
		 */
		this.gameShortName = data.game_short_name;

		if(bot.fancy.options.callbackAnswerTimeout || bot.fancy.options.callbackAnswerTimeout !== 0){
			this.timeout = setTimeout(this.answer.bind(this), bot.fancy.options.callbackAnswerTimeout)
		}
	}

	/**
	 * Answer to the callback query.
	 * @param {string} text The text to show in the notification.
	 * @param {boolean} showAlert Whether or not to show the notification an an alert.
	 * @param {CallbackQueryAnswerOptions} options Options for the answer
	 * @return {Promise}
	 */
	answer(text, showAlert, options){
		clearTimeout(this.timeout);
		return this.bot.fancy.answerCallbackQuery(this.id, text, showAlert, Parser.parseCallbackQueryAnswerOptions(options))
	}
}
module.exports = CallbackQuery;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Animation.html">Animation</a></li><li><a href="Audio.html">Audio</a></li><li><a href="CallbackQuery.html">CallbackQuery</a></li><li><a href="Chat.html">Chat</a></li><li><a href="ClassyTelegramBot.html">ClassyTelegramBot</a></li><li><a href="Collection.html">Collection</a></li><li><a href="File.html">File</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.4</a> on Mon Aug 07 2017 14:59:55 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
